<div class="p-8 max-w-4xl mx-auto bg-gradient-to-r from-blue-50 to-blue-100 dark:from-gray-800 dark:to-gray-900 rounded-lg shadow-lg">
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-3xl font-extrabold text-blue-700 dark:text-blue-300 flex items-center">
      <i class="fas fa-plane-departure text-blue-500 dark:text-blue-300 mr-3"></i> Travel Itinerary Form
    </h2>
    <button (click)="toggleDarkMode()" class="bg-gray-700 hover:bg-gray-600 text-white py-2 px-4 rounded shadow-md flex items-center">
      <i class="fas fa-moon mr-2"></i> Toggle Dark Mode
    </button>
  </div>

  <form #travelForm="ngForm" (ngSubmit)="onSubmit(travelForm)" novalidate class="space-y-6">
    <!-- Destination Field -->
    <div>
      <label for="destination" class="block text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2 flex items-center">
        <i class="fas fa-map-marker-alt text-blue-500 dark:text-blue-300 mr-2"></i> Destination
      </label>
      <input type="text" id="destination" required [(ngModel)]="itinerary.destination" name="destination"
        class="w-full p-3 border rounded-lg shadow-sm text-gray-700 dark:text-gray-300 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
      <div *ngIf="travelForm.controls['destination']?.invalid && travelForm.controls['destination']?.touched"
        class="text-red-500 text-sm mt-1">
        Destination is required.
      </div>
    </div>

    <!-- Date Fields -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label for="startDate" class="block text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2 flex items-center">
          <i class="fas fa-calendar-alt text-blue-500 dark:text-blue-300 mr-2"></i> Start Date
        </label>
        <input type="date" id="startDate" required [(ngModel)]="itinerary.startDate" name="startDate"
          class="w-full p-3 border rounded-lg shadow-sm text-gray-700 dark:text-gray-300 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
        <div *ngIf="travelForm.controls['startDate']?.invalid && travelForm.controls['startDate']?.touched"
          class="text-red-500 text-sm mt-1">
          Start Date is required.
        </div>
      </div>
      <div>
        <label for="endDate" class="block text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2 flex items-center">
          <i class="fas fa-calendar-check text-blue-500 dark:text-blue-300 mr-2"></i> End Date
        </label>
        <input type="date" id="endDate" required [(ngModel)]="itinerary.endDate" name="endDate"
          class="w-full p-3 border rounded-lg shadow-sm text-gray-700 dark:text-gray-300 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500">          <div *ngIf="travelForm.controls['endDate']?.invalid && travelForm.controls['endDate']?.touched"
            class="text-red-500 text-sm mt-1">
            <span *ngIf="travelForm.controls['endDate']?.errors?.['required']">End Date is required.</span>
            <span *ngIf="travelForm.controls['endDate']?.errors?.['invalidDateRange']">End date must be after start date.</span>
          </div>
      </div>
    </div>

    <!-- Activities Field -->
    <div>
      <label for="activities" class="block text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2 flex items-center">
        <i class="fas fa-list text-blue-500 dark:text-blue-300 mr-2"></i> Activities
      </label>
      <textarea id="activities" rows="4" required [(ngModel)]="itinerary.activities" name="activities"
        class="w-full p-3 border rounded-lg shadow-sm text-gray-700 dark:text-gray-300 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
      <div *ngIf="travelForm.controls['activities']?.invalid && travelForm.controls['activities']?.touched"
        class="text-red-500 text-sm mt-1">
        Activities are required.
      </div>
    </div>

    <!-- Number of Travelers -->
    <div>
      <label for="numberOfTravelers" class="block text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2 flex items-center">
        <i class="fas fa-users text-blue-500 dark:text-blue-300 mr-2"></i> Number of Travelers
      </label>
      <input type="number" id="numberOfTravelers" required [(ngModel)]="itinerary.numberOfTravelers" name="numberOfTravelers"
        class="w-full p-3 border rounded-lg shadow-sm text-gray-700 dark:text-gray-300 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
      <div *ngIf="travelForm.controls['numberOfTravelers']?.invalid && travelForm.controls['numberOfTravelers']?.touched"
        class="text-red-500 text-sm mt-1">
        Number of Travelers is required.
      </div>
    </div>

    <!-- Budget -->
    <div>
      <label for="budget" class="block text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2 flex items-center">
        <i class="fas fa-rupee-sign text-blue-500 dark:text-blue-300 mr-2"></i> Budget (INR)
      </label>
      <input type="number" id="budget" required [(ngModel)]="itinerary.budget" name="budget"
        class="w-full p-3 border rounded-lg shadow-sm text-gray-700 dark:text-gray-300 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
      <div *ngIf="travelForm.controls['budget']?.invalid && travelForm.controls['budget']?.touched"
        class="text-red-500 text-sm mt-1">
        Budget is required.
      </div>
    </div>

    <!-- Preferred Mode of Transport -->
    <div>
      <label class="block text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2">
        <i class="fas fa-car text-blue-500 dark:text-blue-300 mr-2"></i> Preferred Mode of Transport
      </label>
      <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
        <!-- Flight -->
        <label class="cursor-pointer">          <input type="checkbox" [checked]="isTransportModeSelected('Flight')" (change)="toggleTransportMode('Flight')"
            class="hidden peer">
          <div
            class="flex items-center justify-center w-full p-3 border rounded-lg shadow-sm text-gray-700 dark:text-gray-300 dark:bg-gray-700 peer-checked:bg-blue-500 peer-checked:text-white">
            <i class="fas fa-plane text-lg mr-2"></i> Flight
          </div>
        </label>

        <!-- Train -->
        <label class="cursor-pointer">          <input type="checkbox" [checked]="isTransportModeSelected('Train')" (change)="toggleTransportMode('Train')"
            class="hidden peer">
          <div
            class="flex items-center justify-center w-full p-3 border rounded-lg shadow-sm text-gray-700 dark:text-gray-300 dark:bg-gray-700 peer-checked:bg-blue-500 peer-checked:text-white">
            <i class="fas fa-train text-lg mr-2"></i> Train
          </div>
        </label>

        <!-- Bus -->
        <label class="cursor-pointer">          <input type="checkbox" [checked]="isTransportModeSelected('Bus')" (change)="toggleTransportMode('Bus')"
            class="hidden peer">
          <div
            class="flex items-center justify-center w-full p-3 border rounded-lg shadow-sm text-gray-700 dark:text-gray-300 dark:bg-gray-700 peer-checked:bg-blue-500 peer-checked:text-white">
            <i class="fas fa-bus text-lg mr-2"></i> Bus
          </div>
        </label>

        <!-- Private Car -->
        <label class="cursor-pointer">          <input type="checkbox" [checked]="isTransportModeSelected('Private Car')" (change)="toggleTransportMode('Private Car')"
            class="hidden peer">
          <div
            class="flex items-center justify-center w-full p-3 border rounded-lg shadow-sm text-gray-700 dark:text-gray-300 dark:bg-gray-700 peer-checked:bg-blue-500 peer-checked:text-white">
            <i class="fas fa-car text-lg mr-2"></i> Private Car
          </div>
        </label>

        <!-- Public Transport -->
        <label class="cursor-pointer">          <input type="checkbox" [checked]="isTransportModeSelected('Public Transport')" (change)="toggleTransportMode('Public Transport')"
            class="hidden peer">
          <div
            class="flex items-center justify-center w-full p-3 border rounded-lg shadow-sm text-gray-700 dark:text-gray-300 dark:bg-gray-700 peer-checked:bg-blue-500 peer-checked:text-white">
            <i class="fas fa-subway text-lg mr-2"></i> Public Transport
          </div>
        </label>
      </div>      <div *ngIf="(!validateTransportModes() || travelForm.controls['preferredModeOfTransport']?.invalid) && travelForm.controls['preferredModeOfTransport']?.touched"
        class="text-red-500 text-sm mt-1">
        You must select at least one mode of transport for your journey.
      </div>
    </div>

    <!-- Submit Button -->
    <div class="flex justify-end">
      <button type="submit" [disabled]="travelForm.invalid"
        class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-blue-400 disabled:opacity-50 flex items-center">
        <i class="fas fa-check-circle mr-2"></i> Create Itinerary
      </button>
    </div>
  </form>
</div>